# 系统上的配置文件位置：
# -------------------------------------------
# 默认位置：
# ---------
#  Linux:   `$HOME/.config/television/config.toml`
#  macOS:   `$HOME/.config/television/config.toml`
#  Windows: `%LocalAppData%\television\config.toml`
#
# XDG 目录：
# ---------
# 如果您的系统设置了 XDG_CONFIG_HOME，可以使用它。
# 在这种情况下，television 将期望配置文件位于：
# `$XDG_CONFIG_HOME/television/config.toml`
#

# 通用设置
# ----------------------------------------------------------------------------
tick_rate = 50
default_channel = "files"
# Shell 设置
# --------------
# 用于执行命令（源、预览、动作）的默认 Shell。
# 选项：bash, zsh, fish, powershell, cmd, nu
# 如果未指定，将从环境检测 Shell（Unix 上为 $SHELL）。
# 特定频道的 Shell 设置会覆盖此全局设置。
# shell = "bash"
# 历史记录设置
# ---------------
# 全局历史记录中保留的最大条目数（默认：100）
# 历史记录会跟踪所有频道和会话中的搜索查询
# 设置为 0 以完全禁用历史记录功能
history_size = 200
# 是否使用全局历史记录（默认：false）
# 当为 true 时：历史导航显示所有频道的条目
# 当为 false 时：历史导航仅限于当前频道
global_history = false

[ui]
# 为 UI 分配多少空间（占屏幕百分比）
# ┌─────────────────────────┐
# │     Terminal screen     │
# │  ┌───────────────────┐  │
# │  │                   │  │
# │  │  Television UI    │  │
# │  │                   │  │
# │  └───────────────────┘  │
# │                         │
# └─────────────────────────┘
ui_scale = 100
# tv 应采用什么方向（横向 landscape 或 纵向 portrait）
orientation = "landscape"
# UI 使用的主题
# 内置主题列表可以在 television 仓库的 `themes` 目录中找到。
# 您也可以在配置目录下的 `themes` 目录中创建新文件来创建自定义主题
# （参见上面的 config.toml 位置）。
theme = "catppuccin-mocha-mauve"

# 特定功能配置
# 每个功能都可以有自己的配置部分
[ui.input_bar]
# 输入栏在 UI 中的放置位置（顶部 top 或 底部 bottom）
position = "top"
# 输入提示字符串（如果未指定，默认为 ">"）
prompt = ">"
# header = "{}"
# padding = {"left": 0, "right": 0, "top": 0, "bottom": 0}
border_type = "rounded" # https://docs.rs/ratatui/latest/ratatui/widgets/block/enum.BorderType.html#variants

[ui.status_bar]
# 状态栏分隔符（气泡风格）：
#separator_open = ""
#separator_close = ""
# 状态栏分隔符（方框风格）：
separator_open = ""
separator_close = ""
hidden = false

[ui.results_panel]
border_type = "rounded"
# padding = {"left": 0, "right": 0, "top": 0, "bottom": 0}

[ui.preview_panel]
# 预览面板大小（屏幕宽度/高度的百分比）
size = 50
#header = ""
#footer = ""
scrollbar = true
border_type = "rounded"
# padding = {"left": 0, "right": 0, "top": 0, "bottom": 0}
hidden = false

[ui.help_panel]
# 是否按类别拆分帮助面板
show_categories = true
hidden = true

[ui.remote_control]
# 是否在遥控模式下显示频道描述
show_channel_descriptions = true
# 是否按字母顺序对频道进行排序
sort_alphabetically = true
# disabled = false

# 主题颜色覆盖
# ---------------------
# 您可以在此处添加特定颜色来覆盖所选主题的颜色。
# 这允许您自定义外观而无需创建完整的主题文件。
# 颜色可以指定为 ANSI 颜色名称（例如 "red", "bright-blue"）或
# 十六进制值（例如 "#ff0000", "#1e1e2e"）。
#
# 覆盖示例：
# [ui.theme_overrides]
# background = "#000000"
# text_fg = "#ffffff"
# selection_bg = "#444444"
# match_fg = "#ff0000"

# 按键绑定和事件
# ----------------------------------------------------------------------------
#
[keybindings]
# 应用程序控制
# ------------------
esc = "quit"
ctrl-c = "quit"

# 导航和选择
# -----------------------
down = "select_next_entry"
ctrl-n = "select_next_entry"
ctrl-j = "select_next_entry"
up = "select_prev_entry"
ctrl-p = "select_prev_entry"
ctrl-k = "select_prev_entry"

# 历史记录导航
# -----------------
ctrl-up = "select_prev_history"
ctrl-down = "select_next_history"

# 多选
# --------------
tab = "toggle_selection_down"
backtab = "toggle_selection_up"
enter = "confirm_selection"

# 预览面板控制
# --------------------
pagedown = "scroll_preview_half_page_down"
pageup = "scroll_preview_half_page_up"
ctrl-f = "cycle_previews"

# 数据操作
# --------------
ctrl-y = "copy_entry_to_clipboard"
ctrl-r = "reload_source"
ctrl-s = "cycle_sources"

# UI 功能
# ----------
ctrl-t = "toggle_remote_control"
ctrl-x = "toggle_action_picker"
ctrl-o = "toggle_preview"
ctrl-h = "toggle_help"
f12 = "toggle_status_bar"
ctrl-l = "toggle_layout"

# 输入字段动作
# ----------------------------------------
backspace = "delete_prev_char"
ctrl-w = "delete_prev_word"
ctrl-u = "delete_line"
delete = "delete_next_char"
left = "go_to_prev_char"
right = "go_to_next_char"
home = "go_to_input_start"
ctrl-a = "go_to_input_start"
end = "go_to_input_end"
ctrl-e = "go_to_input_end"

# Shell 集成
# ----------------------------------------------------------------------------
#
# Shell 集成功能允许您使用 television 作为 Shell 命令的选择器
# （以及使用 <CTRL-R> 搜索 Shell 历史记录）。
# 例如：输入 `git checkout <CTRL-T>` 将打开 television 并显示可供选择的分支列表。

[shell_integration]
# 如果没有匹配到其他频道，此处指定默认的回退频道。
fallback_channel = "files"

[shell_integration.channel_triggers]
# 在此处添加您的频道触发器。每个键都是一个频道，将由相应的命令触发。
# 示例：假设您希望在按下 <CTRL-T> 时让以下命令触发以下频道：
#          `git checkout`  应触发 `git-branches` 频道
#          `ls`            应触发 `dirs` 频道
#          `cat` 和 `cp`   应触发 `files` 频道
#
# 您可以将以下内容添加到配置文件中：
# ```
# [shell_integration.channel_triggers]
# "git-branches" = ["git checkout"]
# "dirs" = ["ls"]
# "files" = ["cat", "cp"]
# ```
"alias" = ["alias", "unalias"]
"env" = ["export", "unset"]
"dirs" = ["cd", "ls", "rmdir", "z"]
"files" = [
  "cat",
  "less",
  "head",
  "tail",
  "vim",
  "nano",
  "bat",
  "cp",
  "mv",
  "rm",
  "touch",
  "chmod",
  "chown",
  "ln",
  "tar",
  "zip",
  "unzip",
  "gzip",
  "gunzip",
  "xz",
]
"git-diff" = ["git add", "git restore"]
"git-branch" = [
  "git checkout",
  "git branch",
  "git merge",
  "git rebase",
  "git pull",
  "git push",
]
"git-log" = ["git log", "git show"]
"docker-images" = ["docker run"]
"git-repos" = ["nvim", "code", "hx", "git clone"]


[shell_integration.keybindings]
# 控制哪个按键绑定应触发 tv
# 用于 Shell 自动补全
"smart_autocomplete" = "ctrl-f"
# 控制哪个按键绑定应触发 tv
# 用于命令历史记录
"command_history" = "ctrl-r"

[previewers.file]
# 使用 bat 中配置的主题
theme = "Catppuccin Mocha"
